# Hardware Networking

## SNMP
**SNMP** (*Simple Network Management Protocol*) — это протокол прикладного уровня для обмена управляющей информацией между сетевыми устройствами. Он является частью набора протоколов `TCP/IP`.

**SNMP** используется для управления производительностью сети, поиска и решения сетевых проблем, а также планирования роста сети. Позволяет управлять производительностью сети, устранять неполадки в сети и настраивать удаленные устройства, такие как серверы, маршрутизаторы, коммутаторы.

**SNMP** может собирать данные обо всех устройствах в сети, включая номера моделей, серийные номера, версии программного обеспечения и прошивки, а также сведения о конфигурации. Это полезно для поддержания актуальной инвентаризации сетевых активов, что имеет решающее значение для обеспечения соответствия требованиям, планирования обновлений и управления лицензиями.

### Configure SNMP on Network Devices
Необходимо настроить каждое сетевое устройство (маршрутизаторы, коммутаторы, серверы и т. д.) для включения **SNMP** и определить, как они должны взаимодействовать с вашим `SNMP Manager`:
- **Enable SNMP Agent**: обычно это делается через интерфейс конфигурации устройства (CLI или веб-интерфейс).
- **Set Community Strings for SNMPv1/v2c**: `Community Strings` действуют как простые пароли. Определите как минимум две `Community Strings`: одну для доступа только для чтения (RO), а другую для доступа для чтения и записи (RW).
- **Set SNMP Manager IP**: Укажите IP-адрес вашего `SNMP Manager`, чтобы `SNMP Agent` знал, куда отправлять `SNMP Traps`.

### SNMP Walk
**SNMP Walk** — это метод, используемый при управлении сетью для получения последовательного списка переменных от управляемого устройства с использованием **SNMP**. По сути, это включает в себя систематический запрос к устройству информации по ряду идентификаторов объектов **OID's** (*Object Identifiers*), которые иерархически структурированы в **MIB** (*Management Information Base*). Этот процесс помогает собирать полные данные о сетевых устройствах.
```bash
snmpwalk -v 2c -c public 192.168.1.1
```
- -v 2c указывает версию SNMP 2c.
- -c public указывает `Community String` (like a password) is "public".
- 192.168.1.1 is the IP address of the `SNMP device`, которого опрашиваем.
```bash
snmpwalk -v3 -u ncread -l authNoPriv -a MD5 -A *Authentication Passphrase* *Network Device Name*
```
> В выводе будут перечислены все дата поинты SNMP (OID и их значения), доступные в `Community String` «public», начиная с указанного IP-адреса.

Эта проблема может быть потому, что Заббикс не умеет считывать информацию с хостов с одинаковым `SNMP engineID`, они должны быть уникальными. Мы должны за этим следить и напоминать НетОпсам за это правило, если подобная ситуация повторится.

### SNMP Trap
**SNMP TRAP** или **INFORM** сообщения используются для уведомления о критических событиях или изменениях состояния сети. Например, если сетевое устройство неожиданно перезагружается или происходит сбой канала связи, **SNMP TRAP** может быть отправлен в **NMS** (*Network Management System*), вызывая оповещения и инициируя автоматические процессы устранения неполадок или ручное вмешательство.

Как настроить:
- **Specify Trap Receivers**: Настройте устройство для отправки `SNMP Traps` на IP-адрес `SNMP Manager`.
- **Define Trap Conditions**: Установите, какие события должны вызывать `SNMP Traps` (например, разрыв соединения, высокая загрузка ЦП, превышение температурного порога).
- **Enable Trap Sending**: Убедитесь, что устройство настроено на отправку `SNMP Traps` при определенных условиях.

На стороне `SNMP Manager` необходимо настроить для прослушивания и обработки входящих `SNMP Traps`:
- **Open Trap Listener Port**: Обычно `SNMP Traps` отправляются на порт UDP 162. Убедитесь, что этот порт открыт на фаерволе менеджера `SNMP Manager`.
- **Configure Trap Handling**: Определите, как `SNMP Manager` должен обрабатывать различные типы `SNMP Traps` (например, ведение логов, оповещения, автоматические ответы).
- **Load MIB Files**: Убедитесь, что у `SNMP Manager` имеются соответствующие файлы **MIB** (*Management Information Base*) для устройств, которыми он управляет. Файлы **MIB** определяют структуру сообщений SNMP и необходимы для правильной интерпретации `SNMP Traps`.

## ICMP
**ICMP** (*Internet Control Message Protocol*) - протокол сетевого уровня **OSI** и используется в основном сетевыми устройствами, такими как маршрутизаторы и коммутаторы, для отправки сообщений об ошибках и оперативной информации, указывающей, например, что запрошенная услуга недоступна или что хост или маршрутизатор не могут быть достигнуты.

В отличие от транспортных протоколов, таких как **TCP** или **UDP**, **ICMP** обычно используется не для обмена данными между системами, а скорее для сообщения об ошибках и предоставления информации, связанной с состоянием сети.

### Network Diagnostics and Troubleshooting
**Ping**: наиболее распространенная утилита для проверки соединения с использованием **ICMP**. Это помогает определить, доступен ли конкретный пункт назначения и сколько времени требуется пакетам, чтобы добраться до этого пункта назначения и обратно.

**Traceroute**: использует сообщения **ICMP** о превышении времени для отслеживания пути от одного сетевого устройства к другому, определяя все промежуточные переходы и время, которое занимает каждый переход.

## IPMI
**IPMI** (*Intelligent Platform Management Interface*) представляет собой набор стандартизированных спецификаций для управления аппаратной платформой. Он предоставляет независимый канал для управления аппаратными серверами, позволяя контролировать состояние системы и управлять системами удаленно, независимо от состояния операционной системы или даже если система выключена.

**IPMI** имеет решающее значение для управления серверами в крупных датацентрах или средах, где системы физически труднодоступны, обеспечивая возможность выполнения задач обслуживания, диагностики и восстановления без необходимости прямого физического доступа к оборудованию.

## SRX

## ESX